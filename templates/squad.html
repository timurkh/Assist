<script> document.getElementById("navbar-squads").classList.add("active"); </script>

<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"> </script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<!-- TODO: use production version <script src="https://cdn.jsdelivr.net/npm/vue@2"></script> -->

<script> var squadId = "{{.Squad.ID}}"; </script>
<div id="app">

	<div v-if="loading">
		<div class="d-flex justify-content-center mt-5">
			<div class="spinner-border mt-5" role="status">
				<span class="sr-only">Loading...</span>
			</div>
		</div>
	</div>
	<div v-if="!loading" v-cloak>

		<!-- Main View -->
		<div v-if="error_message.length > 0" class="alert alert-danger m-1" role="alert">
			[[ error_message ]]
		</div>

		<div class="container-fluid m-0 p-0">
			<div class="d-flex flex-wrap">
				<div class="breadcrumb justify-content-between align-items-center flex-grow-1 p-1 m-1">
					<ol class="breadcrumb mb-0 p-0">
						<li class="breadcrumb-item">My Squads</li>
						<li class="breadcrumb-item active">Squad "{{.Squad.Name}}"</li>
					</ol>
				</div>
				<div class="ml-auto p-0 m-1">
					<button type="button" class="btn btn-info add-new p-1" data-toggle="modal" data-target="#importSquadMembersModal"><i class="fas fa-user-plus"></i> Import Members</button>
					<button type="button" class="btn btn-info add-new p-1" data-toggle="modal" data-target="#addSquadMemberModal"><i class="fa fa-plus"></i> Add Member</button>
				</div>
			</div>

			<div class="table-responsive-lg m-0 p-1">
				<table class="table table-sm table-bordered m-0">
					<thead class="thead-dark text-truncate">
						<tr class="d-flex">
							<th class="col-md-3 col-4 text-truncate">Member</th>
							<th class="col-md-3 d-none d-md-table-cell text-truncate">Email</th>
							<th class="col-md-2 d-none d-md-table-cell text-truncate">Phone</th>
							<th class="col-md-1 col-2 text-truncate">Status</th>
							<th class="col-md-2 col-3 text-truncate">Tags</th>
							<th class="col-md-1 col-3 text-truncate">Actions</th>
					</thead>
					<tbody>
						<tr class="d-flex" v-for="(member, index) in squad_members"  >
							<td class="col-md-3 col-4 text-truncate"> [[member.displayName]] </td>
							<td class="col-md-3 d-none d-md-table-cell text-truncate"> [[member.email]] </td>
							<td class="col-md-2 d-none d-md-table-cell text-truncate"> [[member.phoneNumber]] </td>
							<td class="col-md-1 col-2 text-truncate"> [[member.status]] </td>
							<td class="col-md-2 col-3 text-truncate"> </td>
							<td class="col-md-1 col-3 text-truncate"> </td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>

<script src="static/squad.js"></script>
